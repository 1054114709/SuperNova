const TUTORIAL_BLOCK="tutorial";const TUTORIAL_ID="id";const TUTORIAL_CONTENT="content";const TUTORIAL_TITLE="title";const TUTORIAL_NEXT="next";const TUTORIAL_PREV="prev";var tutorial=[];jQuery(document).on("click","#tutorial_close",function(a){jQuery("#tutorial_block").addClass("hide")});function tutorialError(a){jQuery("#tutorial_footer").addClass("error").text(a).removeClass("hide")}function tutorialMakeAction(b,a){jQuery.get(SN_ROOT_VIRTUAL+"index.php?page=ajax&mode=tutorial&action="+b+"&id="+jQuery("#tutorial_current").val(),a,"json")}function tutorialGet(b,a){jQuery.get(SN_ROOT_VIRTUAL+"index.php?page=ajax&mode=tutorial&action="+b+"&id="+jQuery("#tutorial_current").val(),function(c){if(c.hasOwnProperty(TUTORIAL_BLOCK)&&c[TUTORIAL_BLOCK]){tutorial=c[TUTORIAL_BLOCK];if(tutorial.hasOwnProperty(TUTORIAL_ID)&&Math.intVal(tutorial[TUTORIAL_ID])){tutorial_change();jQuery("#tutorial_footer").addClass("hide").removeClass("error")}else{tutorialError(a)}}else{tutorialError("{Ошибка загрузки туториала - попробуйте еще раз! В случае повторной ошибки - сообщите Администрации игры}")}},"json")}jQuery(document).on("click","#tutorial_button_next",function(a){tutorialGet("ajaxNext","{Ошибка: Не существует следующей страницы туториала - сообщите Администрации игры}")});jQuery(document).on("click","#tutorial_button_prev",function(a){tutorialGet("ajaxPrev","{Ошибка: Не существует предыдущей страницы туториала - сообщите Администрации игры}")});jQuery(document).on("click","#tutorial_button_finish",function(a){tutorialMakeAction("ajaxFinish",function(){jQuery("#tutorial_block").addClass("hide")})});function tutorial_change(){jQuery("#tutorial_current").val(tutorial[TUTORIAL_ID]);jQuery("#tutorial_text").html(tutorial[TUTORIAL_CONTENT]);jQuery("#tutorial_header_additional").html(" - "+tutorial[TUTORIAL_TITLE]);if(Math.intVal(tutorial[TUTORIAL_NEXT])){jQuery("#tutorial_button_next").removeClass("hide");jQuery("#tutorial_button_finish").addClass("hide")}else{jQuery("#tutorial_button_next").addClass("hide");jQuery("#tutorial_button_finish").removeClass("hide")}if(Math.intVal(tutorial[TUTORIAL_PREV])){jQuery("#tutorial_button_prev").removeClass("hide")}else{jQuery("#tutorial_button_prev").addClass("hide")}};