Проект "Сверхновая"
~~~~~~~~~~~~~~~~~~~
"Сверхновая"  (далее  -  СН)  -  многопользовательская  браузерная  космическая
стратегия, клон oGame. СН базируется на XNova RageRepack v.226 (далее RR)
Данный файл содержит исключительно отличия СН от RR

Disclaimer aka Отмазка
======================
ВНИМАНИЕ! Проект находится в стадии  альфа-версии!  В  настоящее  время  он  не
предназначен для  production-использования!  Код  предоставляется  "as-is".  Вы
используете его на свой  страх  и  риск!  Автор  не  несет  ответственности  за
материальный,  моральный,  кармический,  душевный   и   любой   другой   ущерб,
причиненный вам от использования, неиспользования, самим  фактом  существования
этого кода или любым другим способом.

ВНИМАНИЕ! Хотя СН является клоном оГейм, она НЕ ЯВЛЯЕТСЯ ОФФЛАЙК!  Т.е.  многие
аспекты игры отличаются как  от  официального  оГейма,  так  и  от  RR.  Движок
изменен, что бы соответствовать моему пониманию об интересной игре.  Принимайте
это во внимание, когда решаете - устанавливать этот движок себе или нет.

ВНИМАНИЕ! Статус проекта "Сверхновая" - альфа-версия. Практически это означает,
что очередной апдейт может полностью изменить отдельный аспект игры.

Примерный план развития движка содержится в файле docs/changelog.todo

Код распространяется под лицензией GNU GENERAL PUBLIC  LICENSE  Version  2,
June 1991. Сама  лицензия  находится  в  файле  docs/license.txt  дистрибутива.
Доолнение к лицензии: движок является полностью бесплатным  до  тех  пор,  пока
сохраняются мои копирайты. Так же вы не имеете права  продавать  сам  движок  и
любые продукты на его основе (однако имеете право взимать  плату  за  доступ  к
игре и/или продавать внутриигровые ресурсы).


Благодарности
=============

Активные Помощники (в алфавитном порядке)
-----------------------------------------
Ivash
Mahomed

Спонсоры
--------
Мухит Гусманов
andre777_86


Проект "Сверхновая" в интернете
===============================

GitHub
------
GitHub используется как основное хранилище кода в интернете. На нем вы  найдете
самую последнюю версию Сверхновой

"Сверхновая" на GitHub:
  http://github.com/supernova-ws/SuperNova

GIT-репозиторий:
  git://github.com/supernova-ws/SuperNova.git

Он же по HTTP:
  https://github.com/supernova-ws/SuperNova#

Архивы инсталляции всех релизов через HTTP:
  https://github.com/supernova-ws/SuperNova/archives/master
(кнопка "download .zip" скачает самый свежий релиз)

SVN-интерфейс к репозиторию:
  http://svn.github.com/supernova-ws/SuperNova.git
ПРИМЕЧАНИЕ: SVN-интерфейс работает КРАЙНЕ  нестабильно.  Поэтому  исходники  по
этому адресу  могут  быть  недоступны.  Используйте  любую  другую  из  ссылок,
приведенных выше или ниже

В репозитории есть три ветки.
Ветка "master" содержит последний стабильный релиз движка плюс самые актуальные
багфиксы. Перед выкладыванием в эту ветку движок несколько дней тестируется  на
живом сервере.
Ветка  "trunk"  содержит  самую  свежую  версию  движка  с  новыми   фичами   и
изменениями. Однако за свежесть  приходится  чем-то  расплачиваться.  Расплатой
является меньшее время тестирования на живых серверах.
А  вот  ветка  "test"  -  для  самых  смелых,  храбрых  и  попросту  говоря   -
безрассудных. Это - копия моей рабочей  ветки.  Она  содержит  то,  над  чем  я
работаю в данный момент. В общем - я даже не гарантирую,  что  чекаут  из  этой
ветки  вообще запустится. Используйте её на свой страх и риск. Я предупредил.

Загрузка исходников из ветки trunk одним архивом через HTTP:
  https://github.com/supernova-ws/SuperNova/archives/trunk

Загрузка исходников из ветки test одним архивом через HTTP:
  https://github.com/supernova-ws/SuperNova/archives/test

SourceForge
-----------
Так же есть репозиторий на SourceForge:
  git://supernova-ws.git.sourceforge.net/gitroot/supernova-ws/supernova-ws

Архив инсталляции для загрузки - для тех, кто не осилил GIT
  http://sourceforge.net/projects/supernova-ws/files/

Поддержка
---------
Форум поддержки проекта:
  http://forum.supernova.ws/viewforum.php?f=73

"Живые" Вселенные
-----------------
СверхНовая (х1):
  http://supernova.ws

оГейм (x2):
  http://ogame.supernova.ws

Бета (x50):
  http://beta.supernova.ws


Терминология
~~~~~~~~~~~~
"Сервер" - веб-сервер с установленным PHP, MySQL и xCache
"СН" или "движок" - исполнимый код Проекта "Сверхновая"
"Вселенная"  -  экземпляр  движка,  установленный  на  сервер  и  имеющий  свою
                собственную  отдельну  БД.  Один  сервер   может   поддерживать
                несколько Вселенных
"Топ" - игрок, входящий в первые 5% игроков по статистике


Темная Материя
~~~~~~~~~~~~~~
Темная Материя (ТМ)  -  особый  внутриигровой  ресурс,  почти  не  связанный  с
остальной  экономикой.  ТМ  позволяет  получить  доступ  к   уникальным   и/или
ограниченным  юнитам,  возможностям  или  технологиям,   которые   сложно   или
невозможно получить другим образом
ТМ служит нескольким целям:  ускорителем  в  развитии  начинающим  игрокам  (на
ранних этапах игры ТМ достается легче, а её использование дает больший  эффект,
чем на поздних), поощрением постоянным игрокам (чем дольше  игрок  играет,  тем
больше ТМ у него будет), дополнительным фактором случайности (на поздних этапах
развития  ТМ  можно  получить  только  рискуя),  способом  рекламы  (встроенная
партнерская  программа  поощраяет  игроков  как   можно   шире   распространять
информацию о сервере  и  вознаграждет  их  за  эффектиную  рекламу)  и  методом
монетизации игры (владельцам серверов рекомендуется продавать именно ТМ,  а  не
другие ресурсы -  за  счет  этого  достигается  относительное  равенство  между
донаторами и обычными игроками, минимизируется вмешательство владельца в игру и
упрощается менджмент платежей)
ТМ смасштабирована в отношении 1 к 1000. Т.е. весь приход ТМ и все  цены  в  ТМ
увеличены в 1000 раз по отношению к RR
В настоящий момент  существует  пять  внутриигровых  источников  получения  ТМ:
постройка зданий, исследования, рейды на врагов, экспедиции и квесты. По логике
игры ТМ считается редким и ценным  ресурсом,  каждая  единица  которого  должна
добываться огромным трудом и вкладываться с умом и  перспективой.  Кроме  того,
множество вопросов вызывает ограничение в 150 уровней по экономике. Изменения в
ролевой системе призваны устранить оба этих недостатка


Развитие: опыт, уровни и ТМ
===========================
За  совершение  определенных  действий  в  игре  начисляется  опыт.  Накопление
определенного количество опыта отмечается увеличением уровня и  вознаграждением
в  виде  ТМ.  Опыт,  необходимый  для  получения   нового   уровня   растет   в
геометрической прогрессии - т.е. чем выше уровень,  тем  больше  нужно  набрать
опыта для перехода на следующий уровень
Опыт можно получить за  постройку  и  разрушение  зданий  (строительный  опыт),
исследование новых технологий (исследовательский опыт)  и  сражение  с  другими
игроками (рейдерский опыт). Все три вида опыта независимы друг от  друга,  дают
разные типы уровней и имеют разные шкалы развития


Строительство и исследование
============================
Строительный и исследовательский опыт  начисляется  из  расчета  один  балл  на
каждую вложенную полную тысячу ресурсов в пересчете на металл по внутриигровому
курсу  в  соответственно  постройку  или  разрушение   зданий   и   исседование
технологий. Если затраты меньше 1к металла -  опыт  не  начисляется.  При  этом
снято ограничение RR в 150 уровней для строительного опыта
Шкала развития при строительстве и исследованиях имеет следующий вид:
  1   50    50     50 
  2  100    52    102 
  3  150    53    155 
  4  200    55    209 
  5  250    56    265 
  6  300    58    323 
  7  350    60    383 
  8  400    61    445 
  9  450    63    508 
 10  500    65    573 
 20 1000    88   1344 
 30 1500   118   2379 
 40 2000   158   3770 
 50 2500   213   5640 
 60 3000   286   8153 
 70 3500   384  11530 
 80 4000   517  16068 
 90 4500   694  22167 
100 5000   933  30364 
110 5500  1254  41380 
120 6000  1685  56185 
130 6500  2264  76081 
140 7000  3043 102820 
150 7500  4090 138754 
160  НЕТ  5497 187048 
170  НЕТ  7387 251950 
180  НЕТ  9927 339172 
190  НЕТ 13342 456392 
200  НЕТ 17930 613926 
ИТД
Первая колонка - уровень
Вторая колонка - старое общее  количество  опыта,  необходимое  для  достижения
уровня
Третья колонка - новое количество опыта, необходимое для перехода на  следующий
уровень (геометрическая прогрессия с первым членом 50 и коэффициентом 1,03)
Четвертая колонка - новое общее количество опыта,  необходимое  для  достижения
уровня


Рейдерство
==========
За каждую выигранное сражение начисляется один балл рейдерского опыта
Шкала развития рейдера имеет следующий вид:
  1   10   10     10
  2   20   10     20
  3   30   11     31
  4   40   11     42
  5   50   11     53
  6   60   12     65
  7   70   12     77
  8   80   12     89
  9   90   13    102
 10  100   13    115
 20  200   18    269
 30  300   24    476
 40  400   32    754
 50  500   43   1128
 60  600   57   1631
 70  700   77   2306
 80  800  103   3214
 90  900  139   4433
100 1000  187   6073
110 1100  251   8276
120 1200  337  11237
130 1300  453  15216
140 1400  609  20564
150 1500  818  27751
160 1600 1099  37410
170 1700 1477  50390
180 1800 1985  67834
190 1900 2668  91278
200 2000 3586 122785
ИТД

Первая колонка - уровень
Вторая колонка - старое общее  количество  опыта,  необходимое  для  достижения
уровня
Третья колонка - новое количество опыта, необходимое для перехода на  следующий
уровень (геометрическая прогрессия с первым членом 10 и коэффициентом 1,03)
Четвертая колонка - новое общее количество опыта,  необходимое  для  достижения
уровня


Офицеры: наемники и губернаторы
===============================
Полностью переработана система офицеров.  Произведено  разделение  офицеров  на
"наемников" и  "губернаторов".  Стоимость  офицеров  теперь  рассчитывается  по
формуле:
БС * (Фактор ^ Уровень), где
   БС - базовая стоимость наемника
   Фактор - заранее заданная величина
   ^ - операция возведения в степень
   Уровень - новый уровень наемника
По умолчанию БС = 3000, Фактор = 1

Наемники
--------
Наемники покупаются через общее меню слева и их бонусы распространяются на  всю
Империю.  Упразднены  Офицеры  Геолог,  Энергетик,  Архиктектор,   Конструктор,
Фортификатор, Разрушитель - их функции переданы губернаторам (см. ниже). Вся ТМ
за упраздненных наемников возвернута игрокам
Наемники  разбиты  на  две  почти  независимые  подветки   -   "шахтерскую"   и
"рейдерскую"
"Шахтерская" выглядит как "Карго-мастер" - "Шпион" - "Академик" - "Разрушитель"
"Рейдерская" теперь выглядит как "Адмирал"  -  "Координатор"  -  "Навигатор"  -
"Ассасин"
Максимальный уровень карго-мастера увеличен до 20

Губернаторы
-----------
Губернаторы покупаются отдельно  на  каждую  планету  на  странице  "Управление
планетой" и их бонусы распространяются только на ту  планету/луну,  на  которой
они куплены. Губернаторов можно сменять. При  покупке  нового  губернатора  его
развитие начинается с  первого  уровня,  а  вся  ТМ,  вложенные  в  предыдущего
офицера, теряется. Страница покупки губернаторов требует подтверждение операции
при покупке губернатора, отличного от текущего. Страница покупки имеет защту от
случайной покупки губернатора при обновлении страницы

Балансировка губернаторов проведена из расчета на "среднего игрока", имеющего 6
планет при скорости х2. Такие игроки не получат  пенальти  при  оснащении  всех
планет губернаторами. Понятно, что общая производительность Империи  уменшится,
однако это те жертвы, на которые я готов пойти. В целом же изменение направлено
на уменьшение среднего количества ТМ у игроков.  В  особенности  -  у  топов  и
саб-топов
"Технолог" объединяет функции Геолога и Энергетика: каждый уровень дает  +5%  к
добыче металла, кристалла, дейтрия, а так  же  к  выработке  электроэнергии  на
солнечной  и  термоядерной  электростанциях.  Технолого  5го  уровня  позволяет
строить термоядерные электростанции. БС 800, Фактор 1.06,  нет  ограничения  по
уровням. Стоимость 20 уровня -  29418  ТМ.  Вследствие  полной  бессмысленности
найма Технолога на лунах во избежание напрасных трат ТМ игроками  он  убран  со
страницы управления луной
"Инженер"  объединяет  функции  Архитектора  и  Конструктора:  каждый   уровень
уменьшает время постройки зданий  и  кораблей  на  5%.  БС  400,  Фактор  1.25,
максимальный уровень 15. Стоимость 10-го уровне - 13298  ТМ,  15-го - 43868 ТМ
"Фортификатор" так играет для планеты роль Защитника: каждый уровень  уменьшает
на 10% время постройки защитных сооружений и ракет, а так же на 10% увеличивает
атаку, броню и защиту флотов хозяина при обороне  планеты  -  включая  наземные
сооружения. Фортификатор 3го уровня позволяет строить  Планетарную  защиту.  БС
2000, Фактор 1, максимальный уровень 8. Стоимость 8-го уровня - 16000  ТМ
На изображения планет в "Обзоре планеты" и "Обзоре Империи" добавлен  индикатор
текущего губернатора и его уровень


Артефакты
=========
"Артефакты" - редкие объекты с уникальными  свойствами,  приобретаемые  за  ТМ.
Артефакты  являются  одноразовыми  -  после  использования  Артефакт  исчезает.
Некоторые Артефакты  настолько  мощные,  что  их  количество  в  одной  Империи
ограничено
Использование некоторых Артефактов привязано к планетам - т.е. их эффект  будет
распространятся   только   на   эту   планету.   Эффекты   других    Артефактов
распространяются на всю Империю. Особо мощные Артефакты могут оказывать влияние
на солнечную систему, галактику или даже Вселенную

Большой Адронный Колайдер (БАК)
-------------------------------
БАК генерирует поток гравитонного излучения, направленный в  место  наибольшего
скопления обломков на  орбите,  притягивая  к  ним  другие  обломки.  Иногда  в
результате может образоваться луна. Шанс создания луны - 1%  за  каждый  полный
миллион обломков, но не более 30%'
ВНИМАНИЕ! Использование БАК не гарантирует появления луны!

Автономный Колонизационный Комплекс (АКК)
-----------------------------------------
АКК является набором готовых  конструкций  и  программ,  позволяющий  мгновенно
развернуть на новооткрытой планете колонию. Если на планете  уже  есть  здания,
входящие в  АКК,  они  будут  либо  усовершенствованы  (если  их  уровень  ниже
возможностей АКК), либо останутся нетронутыми
АКК может быть полностью развернут  на  планете  даже  при  нехватке  свободных
секторов, поэтому особо ценен при колонизации малых планет
АКК не может быть развернут на луне
Существуют три вида АКК, различающихся по стоимости и возможностям:
  Малый  АКК  -  колония  включает  в  себя  Рудник,  Синтезатор  кристаллов  и
  Синтезатор дейтрия  10го  уровня,  Солнечную  электростанцию  14го  уровня  и
  Фабрику роботов 4го уровня
  Средний АКК -  колония  включает  в  себя  Рудник,  Синтезатор  кристаллов  и
  Синтезатор дейтрия  15го  уровня,  Солнечную  электростанцию  20го  уровня  и
  Фабрику роботов 8го уровня
  Большой АКК -  колония  включает  в  себя  Рудник,  Синтезатор  кристаллов  и
  Синтезатор дейтрия 20го уровня, Солнечную электростанцию 25го уровня, Фабрику
  роботов 10го уровня и Нанофабрику 1го уровня


Черный рынок
============
Полностью переписан Черный Рынок. Теперь можно менять ТМ на  ресурсы  (Торговец
Ресурсами), продавать несколько типов  кораблей  за  одну  транзакцию  (Скупщик
флота). Так же добавлен "Продавец кораблей", где можно  выкупить  ранее  кем-то
проданные корабли


Боевая система
~~~~~~~~~~~~~~
UBEv3
=====
СН  использует  собственную  боевую  систему  UBEv3.  Все  расчеты,  касающиеся
обработки  боя,  унифицированы.  Т.е.  обычный  бой,  симулятор,  удержание   и
уничтожение луны - все они используют один и тот  же  алгоритм  расчета.  В  RR
использовались три разных движка для разных расчетов

Особенности UBEv3
-----------------
1. Своя система расчета повреждений
2. Свой собственный вариант "скорострела" (НЕ ТАКОЙ, КАК НА ОФФЕ!)
3. Свой алгоритм расчета добычи с планет
4. Полностью рабочие САБы
5. Работает удержание на лунах при задании "Уничтожить"

В UBEv3 НЕТ понятия "скорострела". Вместо него используется  понятие  "залповый
огонь". По функционалу "залповый огонь" и "скорострел" - понятия  одного  ряда.
Но алгоритмы расчета у них РАЗНЫЕ.

Боевая система работает следуюшим образом. Предполагается,  что  оба  флота  (в
случае боя один на один) летят в формации "диск". Что, в целом, логично -  надо
максимизировать   возможность   каждого   корабля   дать   залп.   Залп   флота
распределяется между классами кораблей противника в зависимости от брони (ака -
тоннажа, ака размера). Тоже логично  -  в  большую  цель  легче  попасть.  Щиты
принципиально отличаются от брони тем,  что  щиты  считаются  целиком  по  типу
кораблея, а броня - индивидуально для каждого корабля. Т.е.  что  бы  повредить
один корабль,  сначала  надо  пробить  щиты  по  типу  кораблей.

При выстреле атакующего в противника, против которого у аттакера есть  залповый
огонь, урон модифицируется согласно внутренним таблицам. Залповый  огонь  может
как увеличивать наносимые повреждения, так и уменьшать -  значения  в  таблицах
залпового огня подобраны таким образом, что бы с одной стороны  сделать  каждый
корабль уникальным и применимым в определенных условиях, а с другой  стороны  -
сбалансировать все корабли между собой и не допустить появление суперкораблей.

Обращаю внимание - залповый огонь применяется  сразу  по  щитам.  Дальше  часть
урона поглощается  щитами,  а  если  что-то  прошло  сквозь  щиты  -  наносится
повреждение по броне. А там сравниваем прошедший  урон  с  броней  и  списываем
нужное количество корабликов.

Случайная составляющая
----------------------
Бои в СН имеют случайную составляющую. Т.е. результаты двух проведенных боев  в
одних и тех же начальных условиях могут различаться кардинально. С точки зрения
игрового  мира,  случайная  составляющая  отражает  маневры  кораблей,   работу
пилотов, наводчиков и всего остального экипажа корабля, а так  же  случайности,
присущие реальному миру.

Симулятор боя
=============
В симуляторе убрана  случайная  составляющая.  Это  позволит  не  пересчитывать
результаты по десять раз, что бы получить примерное представление о  бое,  а  с
первого раза увидеть результат "в нормальных условиях" без влияния случайностей.
Симулятор поддерживает продвинутую систему ссылок. Теперь можно  давать  ссылку
как на результат симуляции, так и на форму с заполненными  входные  данные  для
дальнейших экспериментов

FAQ по боевой системе
=====================
Q: Что означает в описании корабля Х строка  "Одним  залпом  поражает  КорабльY
ZШтук"?
A: Она означает, что если корабль Х (при отсутсвии бонусов к  щитам/броне/урону
и отсутсвии офицеров) встретится с ZШтук кораблей разновидности КорабльY, то за
один раунд корабль Х уничтожит все корабли противника.
Для кораблей, которых нет в  списке  залпового  огня,  количество  убиваемых
кораблей за раунд равно: (БроняЗащитника + ЩитыЗащитника) / АтакаНападающего.

Q: Корабль Х уничтожил корабли противника, но ответным залпом его самого сбили!
A: А так вполне может быть. Выживаемость корабля Х никто не гарантировал

Q: Как-то странно выбираются цели при залпе...
A: Увы, что бы корректно выбирать цели, необходимо обсчитывать каждый  корабль.
Т.е. во-первых - иметь  индивидуальную  запись  каждого  корабля.  Во-вторых  -
вычислять эффективность удара в зависимости от параметров каждого корабля, т.е.
совершать просмотр  огромного  количества  информации  каждый  ход.  Если  даже
применять всякие алгоритмы оптимизации и сортировки, то  на  величинах  порядка
десятков тысяч кораблей (обычная бойня между топ-флотами) количество вычислений
будет чрезвычайно велико. И это  не  считая  сложности  разработки  более-менее
оптимального алгоритма. Поэтому ради  ускорения  расчетов  приходится  идти  на
сознательное огрубление модели.

Q: Просуммировал нанесенные повреждения, а затем посчитал, сколько должно  было
быть нанесено повреждений. Цифры не совпадают!!!
A: Поскольку применяется достаточно грубая и упрощенная модель (см.  предыдущий
ответ), часть урона может пропасть. Например, если несколько атакующих стреляют
по одним и тем же кораблям и первым залпом  корабли  защитника  уничтожены,  то
остальной урон прийдется на пустое место, т.е.  "пропадет".  Учет  "пропавшего"
урона потребовал бы перерасчета всех оставшихся категорий  кораблей  на  каждой
итерации, т.е.  существенно  увеличил  бы  нагрузку  (эксперимент  такого  рода
проводился). Кроме того, если урон приходится на последние корабли  противника,
часть его все равно пропадет.

Q: Посчитал в симуляторе - СН не смогла убить туеву хучу  кораблей!  Корабль  -
гавон!!!
A: Еще раз - применяется достаточно грубая и  упрощенная  модель  обсчета  боя,
см. пред-предыдущий ответ. В частности, каждый  раунд  количество  уничтоженных
кораблей округляется вниз до  ближайшего  целого.  Т.е.  если  в  одном  раунде
корабль атакующего нанес повреждений после щита на 0.99 кораблей защитник,  это
значение округляется до 0 и в следующем раунде количество кораблей  у  защтника
будет таким же. Грубо говоря, это означает, что в начале раунда  все  уцелевшие
корабли имеют полную броню. В  случае  симулятора,  где  отсутствует  случайная
составляющая, при определенных условиях СН не сможет убить ни  одного  корабля.
Впрочем, на  граничных  случаях  движок  офф-сервера  тоже  ведет  себя  крайне
странно. У каждого движка - свои особенности.

Ракетный удар
=============
Полностью переписан скрипт ракетной атаки. Основные моменты:
[*] Полностью устранена ошибка с отрицательными защитными строениями после атаки
[*] Полностью устранена ошибка с размножением защитных строений после атаки
[*] Теперь ракетами в принципе можно уничтожить планетарную защиту (раньше  это
было невозможно)
[*] Учитывается уровень вооружений нападающего и уровень брони обороняющегося
[*] Максимально выбирается весь ракетный урон - ранее существенная часть  урона
могла быть потеряна
[*] Полностью переписана логика случайной атаки - когда ракетам не задана цель.
Теперь она ДЕЙСТВИТЕЛЬНО случайная (в рамках предыдущего пункта)
[*] При выборе конкретного сооружения для атаки ракета  бьет  ИСКЛЮЧИТЕЛЬНО  по
выбранному сооружению
[*] Правильно и всегда срабатывают перехватчики
[*] Теперь после атаки можно собирать обломки защитных сооружений  -  защитнику
автоматически добавляется половина стоимости сооружений в металле и четверть  -
в кристаллах
[*] Устранен глюк с многократным подсчетом одной атаки
[*] Расширено  и  дополнено  сообщение  о  результатах  нападаения,  приходящее
защитнику

Луна
----
Теперь при создании луны с орбиты списывается количество обломков,  из  которых
сформировалась луна


Миссии
======

Шпионаж
-------
Переписана  подсистема  шпионажа.  Корректно  выставляется   время   шпионского
рапорта. Переписана процедура генерации шпионского рапорта
Алгоритм  работы  шпионажа  -  почти  оффовский,  потому  что  он  меня  вполне
устраивает:
1. Эффективный уровень шпионажа (ЭУШ) на миссию определяется по формулам:
   Для атакующего:
     Уровень шпионской технологии + Уровень офицера "Шпион" + квадратный корень(количества шпионов в миссии) - 1
   Для защитника:
     Уровень шпионской технологии + Уровень офицера "Шпион"
2. Вычисляется разница между ЭУШ атакующего и ЭУШ защитника. Если разница уровней...
     меньше 2 - атакующий видит только ресурсы
     2 и выше - атакующий видит флот на орбите (только  флот  хозяина  планеты!
                Удержание не видно!) 
     3 и выше - атакующий видит защитные сооружения
     5 и выше - атакующий видит постройки
     7 и выше - атакующий видит технологии
3. Шанс (в процентах) обнаружения шпионского флота защитником определяется по формуле:
   К-во зондов * pow(2, ЭУШ защитника - ЭУШ аттакера) * К-во кораблей на орбите / 4
   где pow(2, X) - функция степени двойки, т.е. "2 в степени X".
   Обращаю внимание, что  в  некоторых  случаях  шанс  обнаружения  может  быть
   больше 100% - например при большом флоте на орбите, при  большом  количестве
   кораблей в шпионском флоте,  при  большой  разнице  между  ЭУШ  защитника  и
   аттакующего
4. После вычисления шанс обнаружения сравнивается со случайным числом от  0  до
   99. Если шпионский флот обнаружен - он в полном составе уничтожается (да,  в
   шпионаж все корабли летят со снятым оружием и броней!).

Из вышеописанного алгоритма следует несколько интересных следствий:
1. Количество зондов решает
2. Флот на орбите решает зонды
3. Защититься  от  шпионажа  невозможно,  но   можно   сделать   его   дорогим
   удовольствием. Настолько дорогим, что летать в шпионские миссии  на  равного
   по уровню шпионажа игрока будут только в endgame. Собственно,  для  этого  и
   изменены цифры разницы уровней
4. Посылать количество зондов, некратное квадрату - не имеет смысла. Все  равно
   в расчетах округлится  вниз  до  ближайшего  квадрата,  а  риск  обнаружения
   шпионажа существенно вырастет
5. И уж тем более нет смысла посылать в шпионаж любые корабли кроме зондов
6. Развивай шпионаж с молоду!
7. Офицер "Шпион" - он не зря в условно-шахтерской ветке!

Удержание
---------
В СН ограничения защиты слабых игроков (см.) распространяется и  на  удержание.
Т.е. в нормальном режиме невозможно стать в удержание к слабому игроку.  Данный
подход выбран для того, что бы уменьшить шанс появления  доминирующего  Альянса
(впрочем, как показывает практика ВСЕХ онлайн-игр -  это  все  равно  случается
рано или поздно.  Монополизация  -  путь  к  глобальному  доминированию!).  Для
неразделяющих такую точку зрения администраторов  в  настройки  сервера  введен
дополнительный пункт,  разрешающий  становится  в  Удержание  к  более  слабому
соаловцу


Корабли
=======

Супертранспорт
--------------
Более медленная и емкая версия транспортного корабля

Гипертранспорт
--------------
Новый корабль - Гипертранспорт. Предназначен для ТОП игроков  и/или  скоростных
Вселенных


Экономика
=========
Новая настройка сервера "Масштабировать склады от скорости  добычи".  Настройка
доступна в общих настройках сервера в разделе "Прочие параметры". По  умолчанию
возможность включена

Энергия
-------
Изменена выработка энергии по сравнению с оффом и RR.
Во-первых - модификатор скорости игры теперь не действует на выработку энергии.
Во-вторых - на выработку энергии солнечными электростанциями влияет температура
планеты.
В-третьих  -  Производство  энергии  на  термоядерной   электростанции   теперь
считается по формуле оффа:
  30 * [Э] * (1,05 + [Т] * 0,01) ^ [Э]
где Э - уровень электростанции, Т - уровень энергетической технологии
В-четвертых - энергетическая технология больше не дает дополнительный  бонус  к
производительности электроэнергии. Однако  офицер  Энергетик  по-прежнему  дает
бонус
Выработка энергии изменена исходя из следующих правил:
1. Электростанция может поддерживать одну шахту и один синтезатор рудника  того
же уровня (взято с оффа)
2. Формула выработки термоядерной электростанции взята с оффа
3. Средняя температура на планете - 20  градусов  (это  планеты  с  минимальной
температурой  0  градусов  и  максимальной  40  градусов).  На  такой   планете
эффективность солнечной электростанции будет 100%


Исследования
============
Пересмотрены технологии. Устранены противоречия в  ветках  развития  (например,
ионный  двигатель  можно   было   исследовать   без   технологии).   Технологии
переупорядочены в более логичном порядке

Лаборатория
-----------
Полностью переписан интерфейс Лаборатории
  Очередь исследований приведена к стандартному виду
  Обработка очереди исследований  теперь  производится  при  каждом  обновлении
  страницы, а не только при входе в интерфейс Лаборатории

Межгалактическая Исследовательская Сеть
---------------------------------------
Изменена схема работы МИС. Теперь МИС работает следующим образом:
1. По каждой планете вычисляется эффективный уровень исследования (ЭУИ)
  ЭУИ = уровень лаборатории / (0,5 ^ уровень нанитки)
2. Планеты сортируются по эффективному уровню
3. Отсекаются планеты  с  уровенм  лаборатории,  недостаточным  для  проведения
данного исследования
4. Выбирается верхние (уровень МИС + 1) планет в списке и суммируется ЭУИ  этих
планет
5. Получившееся число подставляется в формулу вычисления времени исследования

Следствия:
1. Нанолаборатория теперь увеличивают эффективность лаборатории только  на  той
планете, на которой они расположены
2. Время исследования теперь одинаково на всех планетах. На некоторых  планетах
чуть больше, на некоторых - чуть меньше, но в среднем - лучше, чем было  раньше
3. Имеет смысл держать  только  (уровень  МИС  +  1)  планет  с  лабораториями.
Остальные просто не будут подключаться.
3.1. Примечание к следствию 3 - собственно, так  было  и  раньше  -  все  равно
исследование могло проводиться только на одной планете


Система рейтингования
=====================
Добавлена статистика по ресурсам
Изменен расчет статистики. Теперь в тратах  каждый  ресурс  считается  согласно
курсу обмена. Таким образом игроки с более  ценными  ресурсами  получат  больше
очков

Защита "начинающих" и "слабых" игроков
--------------------------------------
Полностью переписан алгоритм защиты игроков от нападения более сильного игрока.

Возьмем двух игроков - Игрок1 и Игрок2. Если у Игрока1 количество  очков  общей
статистики в game_noob_factor (по умолчанию - 5) раз больше, чем у Игрока2,  то
Игрок1 по  отношению  к  Игроку2  считается  "сильным"  игроком,  а  Игрок2  по
отношению к Игроку1  считается  "слабым"  игроком.  "Слабые"  игроки  полностью
защищены от агрессивных действий со стороны "сильных" - на них нельзя нападать,
нельзя шпионить, нельзя уничтожать луну итд.
Установка game_noob_factor в 0 отключает защиту "слабых" игроков

Игроки, у которых количество очков в общей статистике  не  превышает  превышает
game_noob_points  (по  умолчанию  5000)   считаются   "начинающими"   игроками.
На "начинающего" игрока может напасть только другой "начинающий"  (естественно,
с учетом соотношения "слабый-сильный", см. выше). "Начинающий"  может  нападать
на кого угодно.
Установка game_noob_points в 0 отключает защиту "начинающих" игроков

Прокачка
--------
Под "прокачкой" понимается пересылка ресурсов от слабого игрока к  сильному.  В
СН встроена система  защиты  от  прямой  прокачки  (прямая  пересылка  ресурсов
миссией "Транспорт"). Однако вместе с  позитивными  моментами  защита  несет  и
негативные моменты - фактически исключен обмен ресурсами между игроками, потому
что в обмене в  подавляющем  большинстве  случаев  один  игрок  является  более
сильным,  а  второй  -  более  слабым.  С  моей   точки   зрения   практическая
невозможность обмена  ресурсами  вполне  компенсируется  невозможностью  прямой
прокачки (существуют, правда, способы непрямой  прокачки,  которые  я  не  буду
здесь офишировать в силу  общедоступности  движка  вообще  и  данного  файла  в
частности любым игрокам). Однако  для  администраторов,  не  разделяющих  такую
точку зрения, добавлена возможность разрешения прокачки в  настройках  сервера.
Соответствующие установки настройки видны игрокам на странице сервера  "Мировые
константы"


Партнерская программа
=====================
Написан  с  нуля  модуль  Партнерской  программы.   Каждому   игроку   выдается
персонализированная ссылка, персонализированный  баннер  и  персонализированный
юзербар, а так же коды для  размещения  всего  этого  добра  на  форумах  и/или
домашних страничках. Если на сервер по ссылке  приходит  новый  пользователь  и
регестрируется  на  сайте,  приведший  его  игрок  получает  10%  от  всех  ТМ,
заработанных новым пользователем (включая дополнительные начисления)
Партнерка имеет ограничение  по  минимальному  количеству  ТМ,  после  которого
начинается начисление бонусов  реферралу  -  переменная  "rpg_bonus_minimum"  в
таблице "config"


Квесты
======
В СН реализована подсистема квестов. Администратор сервера может самостоятельно
добавлять новые квесты и выбирать  награду  за  его  исполнение:  фиксированное
количество одного из ресурсов: металл,  кристалл,  дейтрий  или  ТМ.  Доступ  к
конструктору    квестов    осуществляется    из    меню    "Квесты"    страницы
администрирования. Создание  квестов  доступно  только  Администратору  сервера
(auth_level = 3). Администратор может посмотреть выполненные квесты  игрока  по
ссылке в профиле игрока (поиск через админпанель)
Доступны квесты на постройку зданий и обороны, на исследование и  на  постройку
кораблей.   Игроки,   превысившие   условия   квеста,   автоматически   получат
вознаграждение при следующей проверке на критерии  выполнения.  Например,  если
целью квеста является постройка шахты 10го уровня, то при постройке шахты  выше
9го уровня на любой планете игрок получит квестовое вознаграждение. То же самое
верно и по отношению к уничтожению шахты. Однако, если при уничтожении шахты её
уровень окажется ниже 10го, то игрок вознаграждения не получит, хотя он  уже  и
имел  шахту  10го  уровня.
Триггер на условие квеста "постройка кораблей" является локальным и срабатывает
при постройке указанного корабля. Т.е. если есть квест на постройку 10 ЛИ, а на
планете есть 20  ЛИ,  то  вознаграждение  квеста  игрок  получит  только  после
постройки 1 ЛИ. "Локальность" означает, что  если  в  указанном  примере  игрок
имеет 10 ЛИ на всех колониях, но на одной колонии их количество меньше  условия
квеста, то вознаграждение за квест он получит только если в момент постройки ЛИ
их количество на одной планете будет равно 10.
Игрок может просматривать список доступных квестов и их статус (выполнен или не
выполнен). По выполнению квеста игроку высылается письмо с уведомлением.  Общее
количество и количество выполненных квестов видно игроку в навбаре


Модуль новостей
===============
Добавлен полноценный модуль новостей, доступный по  ссылке  "Новости"  в  левом
меню. Доступ к управлению новостями админы получают по той же  ссылке  -  права
определяются по authlevel
К пункту меню "Новости" добавлен индикатор непрочитанных сообщений
Добавлена дополнительная строка в админском интерфейсе, в которую  можно  вбить
URL с подробностями новости. URL добавится в конце новости в  виде  гиперссылки
со слова "Подробнее..." из текста новости
Добавлена возможность массовой рассылки новости всем игрокам
Добавлена лента новостей на страницу обзора планеты. Выводятся только последние
непрочитанные новости. Количество выводимых новостей настраивается  на  сервере
(по умолчанию - 3)


Альянсы
=======
Полностью  переписан  модуль  управления   Альянсами.   Кардинально   сокращено
количество прав, упрощен интерфейс, переписана система заявок и так далее.

Дипломатия
----------
СН содержит подсистему дипломатии Альянсов. Дипломатия позволяет  устанавливать
различные  типы  отношений  между  Альянсами.  Некоторые  отношения  влияют  на
внутриигровую механику, некоторые - нет
Информация  о  текущих  дипломатических  отношениях  Альянса  отображается   на
странице информации об Альянсе и доступна для просмотра любому игроку
Глава Альянса может начинать  переговоры  и  принимать  предложения  от  других
Альянсов, выбрав пункт "Переговоры" в  заголовке  таблицы  дипломатии.  Там  же
можно сделать  предложение  об  изменении  отношений  другому  Альянсу.  Нельзя
сделать предложение текущих отношений (т.е. если Альянсы находятся в отношениях
"Война" нельзя  опять  предложить  отношение  "Война").
В общем случае что бы изменилось  отношения  между  Альянсами,  другая  сторона
должна потвердить предложение об изменении по  ссылке  "Переговоры",  доступной
главе Альянса (исключения из данного правила изложены ниже).
Отношения между Альянсами бывают следующие:
1. Нейтралитет. Отношение по умолчанию. Нет никаких ограничений или бонусов
2.  Война.  Отключается  система  защиты   башинга   между   членами   Альянса,
находящимися в состоянии  войны.  Автоматически  принимается  второй  стороной.
Подробнее см.ниже в описании защиты от башинга
3.  Мир.  Рекомендуется  выставлять  этот  статус  после  заключения  пакта   о
ненападении. С точки зрения движка оно ничем не отличается от "Нейтралитета"  и
нужно  для  информирования  остального  игрового  сообщества  о  неких   устных
договоренностях - буде в таком информировании возникнет нужда.  Альянсы  вольны
следовать или не следовать данной рекомендации, а так же  решать  -  хотят  они
оповестить Вселенную об изменении своих отношений или нет


Башинг
======

Определения
-----------
Атака - отправка флота с  аггресивной  миссией  ("Атака",  "Совместная  атака",
"Уничтожение") на объект Вселенной (планету или луну) другого игрока
Башинг - многократная повторная атака одним игроком одного и  того  же  объекта
Вселенной за некоторый промежуток времени. Этот  промежуток  называется  "окном
башинга". Обычно окно башинга принимается равным 24 часам
Волна - несколько флотов, посланные один  за  другим  за  небольшой  промежуток
времени. Этот промежуток называется "окно волны" и обычно его принимают  равным
30 минутам.
Как правило, количество флотов  в  одной  волне  так  же  ограничивают,  а  все
следующие флоты относят к новой волне. Максимальное числов флотов в одной волне
называется "длина волны". Традиционно длину волны принимают равной 3 флотам.

Антибашинг
----------
СН содержит систему защиты от  башинга  "Антибашинг".  Защита  не  дает  игроку
отправить на одну планету больше боевых флотов, чем предусмотрено правилами.
Изменить параметры Антибашинга можно на странице  настроек  сервера.  Установка
количества атак в одной волне в 0 означает  полное отключение системы защиты
Настройки системы по умолчанию: 3 волны по 3 атаки c промежутком  не  более  30
минут между атаками в одной волне за 24 часа
Антибашинг учитывает флоты в полете. Т.е. если игрок уже запустил две  волны  и
еще одна находится в полете - он больше не сможет запускать флоты
Атаки засчитываются по факту - т.е. если полностью отменить волну,  находящуюся
в полете, игрок сразу же сможет послать на планету новые  флоты,  не  дожидаясь
возвращения ранее отправленных флотов. Частичная отмена  волны  может  изменить
распределение следующих флотов по волнам.
Атаки учитываются вне зависимости от результата (выигрыш, ничья, проигрыш)
При САБе атака засчитывается ВСЕМ нападающим - дабы избежать  "карусели",  т.е.
когда  несколько  игроков  по  очереди  запускают  САБы,  а  остальные  к   ним
присоединяются. При этом все флоты одного игрока в  одном  САБе  считаются  как
одна атака
Добавлена  возможность  настройки  системы  антибашинга  на  страницу  настроек
сервера
Если Альянсы находятся в отношении "Война",  защита  от  башинга  не  работает.
Однако объявление войны отключает Антибашинг не сразу, а лишь спустя  12  часов
(данный параметр настраивается по усмотрению администратора сервера)
Объявление войны  не  требует  согласия.  Это  означает,  что  когда  Альянс  А
предложил  Альянсу   Б   отношение   "Война",   это   предложение   принимается
автоматически и отношения устанавливаются сразу для обоих Альянсов. А вот выход
из состояния войны (т.е. смена  отношения  "Война"  на  любое  другое)  требует
согласия обоих сторон.
Выход из состояния войны обратной силы  не  имеет!  Т.е.  если  было  объявлено
перемирие когда планеты одного из Альянсов находятся под атакой, то  флоты  все
равно долетят и совершат нападение - какое бы ни  было  новое  отношение  между
Альянсами (если, конечно, атакующий их не отзовет)

Тривиа
------
А вы знаете почему такой относительно простой вещи (40+ человекочасов)  нет  на
Оффе? А что бы денежки снимать за разбан!

АнтиРМФ
=======
Если флот атакующего уничтожен за один раунд, то:
  1. Атакующий не получает отчета о бое
  2. Флоты, находящиеся в удержании так и остаются на орбите
Изменена процедура генерации писем с уведомлением  о  боевом  отчете  следующим
образом:
  1. Если бой закончился за один раунд проигрышем атакующего,  то  он  получает
  сообщение о том,  что  связь  с  флотом  прервалась  и  не  получает  никакой
  дополнительной информации (включая ссылку на боевой отчет) 
  2. Теперь все  участники  боя  (включая  членов  САБа  и  хозяинов  флотов  в
  удержании) получают одинаковые письма (кроме случая, описанного в п.1) 
  3. Уведомление о бое  всегда  содержит  потери  атакующих  и  оброняющихся  и
  сведения о поле обломков 
  4. Сведения о вывозе ресурсов  с  планеты  добавляются  в  отчет  только  при
  выигрыше атакующих
  5.  Уведомления  теперь  корректно  окрашиваются  для  всех  участников  боя:
  красным, если участник проиграл, зеленым - если выиграл, оранжевым - в случае
  ничьи 
  6. Все числа в уведомлении теперь форматируются


НоваПедия
==========
"Ракетный двигатель" переименован в "Химический", а "Импульсный" - в  "Ионный".
Для них полностью изменено описание. Так же  изменено  соответствующе  описание
кораблей
На  странице  информации  о  корабле   показываются   стандартные   и   текущие
характеристики корабля (с учетом  наемников и технологий)


Друзья
======
Полностью переписан модуль "Друзей"


Закладки
========
Полностью переписана система закладок. Теперь  закладки  хранятся  в  отдельной
таблице и не захламляют данные пользователя.  Кроме  того,  такое  расположение
закладок повышает устойчивость движка к SQL-injection.
Полностью переделано редактирование закладок. Добавлена возможность копирования
закладок


Сообщения
==========
Полностью  переписана  система  сообщений
Можно  писать  письма  любому  игроку!  Форма  создания  нового  письма  теперь
корректно  обрабатывает  имена  игроков,  введенных  в   строку   "Кому".   Эта
возможность  доступна  из  списка  категорий  сообщений  по  ссылке   "Написать
сообщение" в  самом  низу  таблицы  категорий.  При  первом  открытии  страницы
создания нового сообщения больше не выскакивают угрожающие красные надписи
В списке писем теперь работает чекбокс в заголовке.  Клик  на  нем  приведет  к
выбору всех сообщений. Повторный клик - к снятию всех отметок
Добавлен дополнительный диапазон для удаления сообщений - "Все сообщения данной
категории". Внимание! В категории "Все сообщения" его выбор приведет  к  полной
очистке почтового ящика!
Счетчик сообщений в навбаре работает без задержек. Т.е. если  игрок  перешел  в
категорию  с  непрочитанными  сообщениями,  счетчик  изменится  соответствующим
образом сразу же после перехода, а не при следующей загрузке страницы
Клик на индикаторе сообщений Администрации, Альянса или от другого игрока сразу
открывает просмотр соответствующих сообщений
Оптимизированы алгоритмы работы подсистемы сообщений, а так же почти в два раза
уменьшен объем передаваемой информации  от  клиента  к  серверу.  Особенно  это
заметно при удалении большого количества сообщений
Добавлена возможность просмотра отправленных сообщений (только тех, которые  не
удалил адресат)
Теперь можно сразу из отчета  шпиона  запускать  симуляцию  боя  по  полученным
разведданным
Перекрашены сообщения. Цвета заголовков теперь соответствуют  цветам  сообщений
и, в свою очередь, синхронизированны с раскраской флотов - там, где  это  имеет
смысл
Категории  сообщений переупорядочены
Добавлена возможность очистить сообщения определенной категории, не открывая их
- на случай переполнения  почтового ящика 
Добавлена подсказка
В настройках пользователя  можно  отключить  получения  определенных  категории
сообщений. В этот список  входят:  Шпионские  отчёты,  Военные  отчёты,  Отчеты
переработки, Прибытие флота, Отчёты  экспедиций,  Сообщения  очереди  построек.
Настройки автоматических уведомлений включены по умолчанию для новых игроков
Добавлена новый класс сообщений "Сообщения  Администрации".  Уведомления  этого
класса  НЕ  МОГУТ  быть  отключены  в  настройках  пользователя.  К  сообщениям
Администрации  относятся:  сообщения  системы  квестов,   новости   сервера   и
собственно сообщения Администрации (личные сообщения, отправленные от игроков с
auth_level > 0)
Восстановлена функциональноксть класса сообщений "Сообщения очереди  построек".
Уведомления этого класса могут быть отключены в настройках пользователя. К  ним
относятся:
  1. Уведомления о завершении исследований. Уведомление высылается после  входа
     на страницу исследований
  2. Уведомления об окончании работы верфи на планете.  Уведомление  высылается
     по окончании очереди строительства Верфи
  3. Уведомление об окончалии строительных  работ  на  планете  (постройка  или
     разрушение здания). Уведомление высылается  пакетно  в  полуавтоматическом
     режиме. Это означает, что сообщение генерируется каждый раз при  обращении
     к планете  (сканирование  шпионажом  или  игроком,  переключение  активной
     планеты игроком итд). При этом  в  сообщение  указываются  все  изменения,
     произошедшие на момент обращения
Добавлена возможность пересылки личных сообщений на емейл  игрока.  Возможность
включается администратором сервера в настройках - опция "Разрешить пересылку ЛС
на email". После этого в настройках игрока появляются дополнительные опции  для
всех категорий входящих сообщений

Чат
===
Полностью переписан внутренний чат. JS-часть переведена  на  jQuery.  Добавлена
заплатка для корректной работы чата в FireFox
Имена  членов  Команды  сервера  (Администраторов,  Операторов  и  Модераторов)
выделяются в чате, что бы отметить их среди сообщений обычных пользователей. По
умолчанию имя Администратора выделяется пурпурным цветом, оператора -  красным,
модератора - зеленым. В таблице  config  можно  настроить  стили  выделения  по
своему вкусу
Добавлена  возможность  настраивать  таймаут  чата  через  интерфейс   настроек
Вселенной (раздел "Настройки чата"/"Таймаут  по  неактивности").  Значение  "0"
означает, что таймаут отключен (не рекомендуется, потому что  при  неправильных
настройках сервера большое одновременное количество запросов может  привести  к
DoS)
История чата теперь грузиться в виде  нормальной  страницы  СН,  а  не  в  виде
"обмылка". Корректно показывает заголовок в истории чата - "общий чат"  и  "чат
альянса" соответственно
Боевые отчеты  теперь  преобразуются  в  ссылки.  Из  соображений  безопасности
работают только ссылки на текущем сервере. По  клику  на  ссылку  боевой  отчет
открывается в новом окне
Добавлена защита на стороне клиента от слишком частых обновлений
Содержимое языкового файла chat.mo отфильтровано и влито в system.mo
Множество других добавлений и усовершенствований


Интерфейс
=========

Логин и регистрация
-------------------
Полностью переделаны экраны логина и регистрации
Полностью переделана подсистема восстановления забытого пароля
Незалогиненные пользователи имеют  возможность  предварительно  ознакомиться  с
сервером: почитать новости, просмотреть настройки сервер, статистику игроков  и
список банов, связаться с администраторами, ознакомится  с  правилами  и  ЧаВо,
сходить на форум

Топбар
------
Переработана  ячейка  сообщений.  Теперь  в   ней   кроме   общего   количества
непрочитанных сообщений  отображается  количество  непрочитанных  сообщений  от
игроков и от членов Альянса (если такие есть)
Добавлено отображения количества флотов и экспедиций - находящихся в  полете  и
максимально доступных.
Количество  флотов  и  экспедиций  в  полете  интерактивно:  оно  автоматически
изменяется в соответствие с происходящими событиями - прибытие,  возвращение  и
окончание миссии флота (как  они  должны  были  произойти  на  момент  загрузки
страницы). При наведении курсора на соответствующую ячейку всплывает  подсказка
с описанием ближайшего события

Вселенная
---------
Серьезно переработан код "Вселенной" (бывш. "Галактика"). Шаблоны  вытащены  из
кода и перенесены в TPL-файл. Поп-апы (инфо о планетах, лунах итд)  вынесены  в
отдельные JS-процедуры, что в отдельных случаях позволило  уменьшить  финальный
размер страницы в два-три раза, а количество запросов к БД снизить от  двух  до
десяти (!) раз - особенно в системе, густо заселенной одним игроком. Библиотека
попапов изменена с overlib на  jQuery  -  это  дало  отличную  кросс-браузерную
совместимость и устранение проблем с попапами в ИЕ. В целом  новая  "Вселенная"
существенно меньше грузит сервер и работает на клиенте гораздо быстрее
Ракеты теперь отправляются через AJAX без обновления страницы
На  изображении  вражеских  планет,  на  которые  летят  флоты  игрока   теперь
отображается соответствующая иконка и при наведении всплывает попап со  списком
всех входящих кораблей
В попап Альянсов добавлен его ранг

Переработка поля обломков
-------------------------
Полностью переписан интерфейс переработки  обломков.  Он  учитывает  количество
переработчиков, уже  отправленных  на  поле  обломков  и  позволяет  эффективно
собирать обломки с нескольких планет
На обломках показывается общее количество ресурсов
На иконке обломков отображается количество переработчиков пользователя, летящих
на эти обломки

Обзор планеты
-------------
Полностью переработана страница "Обзор планеты".
1. Список планет  с  картинками  перенесен  из  таблицы  направо.  На  картинки
   добавлены иконки: активного строительства, активного исследования,  активной
   верфи, индикатор прибывающего  собственного  флота,  индикатор  прибывающего
   враждебного флота, статус застройки  планеты.  Так  же  указывается  текущее
   строительство на каждой планете и таймер обратного отсчета
   Справа  от  иконки  планеты  добавлены  три  колонки,  показывающие  процент
   производительности шахт и синтезаторов: серый -  шахта  металла,  голубой  -
   синтезатор кристаллов,  фиолетовый  -  синтезатор  дейтрия.  Высота  колонки
   пропорциональна проценту производства, а фон кодирует  диапазоны:  желтый  -
   80-90%, оранжевый - 50-70%%, красный - меньее 50%. На высоту и  фон  колонки
   влияет ИСКЛЮЧИТЕЛЬНО процент производства, выставленный на странице "Ресурсы"
2. Полностью переработан график движения  флотов.  Теперь  отдельно  выделяются
   такие  события,  как  "Прибытие",  "Возвращение"  и   "Окончание   задания".
   Отделяются события для текущей выбранной планеты и для остальных
3. Добавлены три таймера обратного отсчета для  строительства,  исследований  и
   верфи. Таймер верфи и таймер зданий поддерживают очередь построек.
4. Статистика игрока и баннеры перенесены на страницу "Император"
Полностью переписано управление планетой
Добавлен новый тип сортировки планет - по общему количество полей.  Учитываются
терраформеры (на планетах) и лунные базы (на лунах)
Изменена цветовая кодировка полосы застройки: зеленый -  менее  50%  застройки,
желтый - не меньше 50% и меньше 80%, оранжевый - не меньше 80% и  меньше  100%,
красный - 100% застройки
На полосы застройки добавилось застроенное и максимальное количество  полей  на
планете
Если планет больше  5, то список планет форматируется в две колонки
Вид очереди построек верфи и очереди  исследований  теперь  аналогичен  очереди
построек зданий
Таймер очереди строительства зданий под иконкой планеты теперь переключается на
следующее здание в очереди при окончании строительства текущего.  Ранее  таймер
показывал  только  прогресс постройки первого здания в очереди

Верфь
-----
Переверстан интерфейс Верфи и Обороны. Вид очереди  построек  обновлен.  Теперь
они выглядят так же, как и очередь постройки зданий
Добавлена возможность удалить последний добавленный элемент из очереди
Кнопка "Построить" дублируется возле каждого юнита. Функционал сохранен - по её
нажатию будут построены все выбранные юниты

Шпионаж и Обзор планеты/Фаланга
-------------------------------
На количество отображаемой информации о летящих чужих флотах влияет эффективный
уровень шпионажа (технология+наемник):
  Меньше 4 - нет информации о летящем флоте
  4 и выше - видно общее количество кораблей во флоте и везет ли флот ресурсы
  6 и выше - виден качественный состав флота - т.е. сколько групп кораблей во
  флоте и сколько кораблей в каждой группе
  8 и выше - видно точное количество ресурсов в трюмах кораблей
  10 и выше - виден количественный состав флота

Фаланга
-------
Переписан вывод  фаланги  с  использованием  функций  СН.  Теперь  он  выглядит
аналогично списку событий флота на странице "Обзор планеты". Алгоритм работы  -
почти оффовский:
1. Показываются все флоты, летящие от сканируемой планеты или же к ней
2. Полет A --> B
   a) скан B => можно увидеть время прибытия флота
   b) скан A => можно увидеть время возвращения флота (но не его прибытия на B)
3. Возвращение B --> A
   a) скан B => не видно ничего
   b) скан A => виден возвращающийся флот
Полнота информации о флотах зависит от уровня шпионажа (см. ниже)
Особые случаи:
1. Задание "Передислокация" A --> B
   a) флот виден только на B, но не на A
   b) после отзыва флот нигде не виден
2. Флот, летящий с луны, фалангой не виден
3. Флот, летящий на задание "Удержание" фалангой не виден

Межгалактические Врата
----------------------
Интерфейс Врат вынесен на отдельную страницу и доступен с Обзора планеты  (куда
вынесен таймер готовности врат)

Строительство зданий
--------------------
Новый интерфейс строительства зданий  -  более  компактный  и  удобный
Немного изменен  порядок  зданий  на  странице  постройки.  Теперь  все  здания
сгруппированы  по  типам:  первая  линейка  -  добывающие,  вторая  линейка   -
производящие, третья линейка - склады. На луне и/или при не всех доступных  для
постройки зданиях порядок пока может меняться
Дополнительно показываются остатки ресурсов с  учетом  прибывающих  на  планету
флотов с грузом
Написанная с нуля очередь построек

Флоты
-----
Полностью переработана страница флотов. Добавлено цветовое кодирование в списке
флотов
Добавлены  слайдбары  для  выбора  количества  кораблей.  На  первой   странице
указываются предварительные параметры флота (грузоподъемность,  скорость,  если
указана точка назначения - время полета  и расход дейтрия)
Команда на возвращение флота теперь не ведет на промежуточную страницу, а сразу
обрабатывается подсистемой флотов
В списках летящих флотов к количеству кораблей во  флоте  добавляется  в  конце
знак "+" если флот везет ресурсы


Своз ресурсов
-------------
Добавлена новая возможность - свезти ресурсы с  остальных  планет  на  текущую.
Игрок выбирает колонии и луны, с которых нужно свезти  ресурсы  на  текущую,  а
движок автоматически рассчитает  нужное  количество  транспортов,  загрузит  их
ресурсами и отправит флоты.
В перевозке ресурсов участвуют только транспортные  корабли:  Малый  транспорт,
Большой транспорт и Супертранспорт.  Корабли  загружаются  в  порядке  убывания
емкости трюма
Есть возможность выбирать все ресурсы одного типа на всех планетах; все ресурсы
на одной планете; все ресурсы на всех планетах
Имеется JS-счетчик, показывающий общее количество свозимых ресурсов как по типу
ресурсов, так и по отдельной планете
Открыть страницу своза ресурсов можно из  списка  кораблей  на  орбите,  списка
летящих флотов, кликнув на желтой иконке  тележки  на  изображении  планеты  на
страницах "Обзор планеты" и  "Империя",  а  так  же  на  изображении  юнита  на
странице строительства. В последнем случае так же будет отображатся  количество
ресурсов, недостающих для создания данного юнита


Империя
-------
На изображения планет добавлены иконки, как на странице  "Обзор  планеты"  (см.
выше).
Убрано многократно дублирующееся перечисление технологий, идентичных  для  всех
планет.
Добавлена дополнительная колонка, в которой суммируются данные по всей Империи.
В списке построек отображаются строящиеся/уничтожаемые здания
В списке кораблей отображаются строящиеся и прилетающие корабли
В списке защитных сооружени отображаются строящаяся защита
Цифра производства ресурсов теперь кодируется цветом  аналогично  фону  колонок
прозиводства ресурсов (см. выше)
Добавлено цветовое кодирование для производящих структур. Уровень производства,
выставленный на странице  "Ресурсы",  кодируется  цветом  фона  соответствующей
ячейки: зеленый - 100%, желтый  -  80-90%%,  оранжевый  -  70-50%%,  красный  -
40-10%%, цвет фона - 0% или структура не является производящей. Пропорционально
уровню производительности меняется и длина кодированной полоски

Император
---------
Новая страница. Содержит небольшой блок новостей, блок статистики игрока и блок
баннеров/юзербаров

Мировые константы
-----------------
Новая страница. Показывает текущие настройки Вселенной пользователям
Добавлен вывод информации о разешении прокачки и разрешении удержания на слабом
соаловце
Добавлена информация о текущих настройках антибашинга

Система отпусков
----------------
Переписана с нуля система отпусков.  Теперь  работает  опция  "Отключить  режим
отпуска". На пользовательскую страницу настроек добавлен  таймер,  показывающий
минимальный срок отпуска, если игрок уйдет в отпуск сейчас

Google AdSense
--------------
Внизу левого меню добавлен блок для  вставки  рекламы  от  Гугля.  В  принципе,
ничего не мешает вставить туда рекламу от любого  другого  рекламного  сайта  -
соответствующий HTML-код задается в настройках Вселенной

Список забаненных
-----------------
Полностью переписан список забаненных. Список теперь сортируется по возрастанию
даты бана - последние забаненные появляются  в  начале  списка.
Добавлено отображение разбанов.

Прочее
------
Страницы статистики, списка банов, списка контаков Вселенной,  списка  настроек
доступны для просмотра незалогиненным, находящимся в отпуске и забаненных


Локализация
===========
СверхНовая использует кодировку UTF-8 при работе с БД и  рендере  HTML-страниц.
Таким  образом  поддерживаются  любые  наборы  символов.  Некоторые  непрвильно
настроенные сервера могут выставлять некорректную кодировку в HTTP-заголовке  -
для них в движке добавлен патч, устраняющий проблему
СН рахрабатывается  на  русском  языке.  В  27  релизе  добавлена  англоязычная
локализация и включена возможность смены языков пользователем
Добавлена полноценная информация о локализации  (файл  language.mo  в  каталоге
локализации). Существенно переработаны файлы локализаций: убраны неиспользуемые
файлы, а мелкие файлы, содержащие меньше десятка строк слиты с соответствующими
файлами. Все файлы локализации пропущены через редактор и  приведены  к  одному
виду. Добавлены заголовки в файлы локализации

Редактор локализаций
--------------------
В админке добавлен редактор локализаций - пункт меню  "Локализация"  в  разделе
"Утилиты"
Выбор  пункта  меню   "Локализация"   открывает   выбор   т.н.   "домена"   для
редактирования. Домен -  это  совокупность  строк  локализации,  относящихся  к
отдельному аспекту игры. Домен эквивалентен языковому файлу  с  соответствующим
именем
После выбора домена и подтверждения выбора открывается страница  редактирования
строк локализации. Открытие больших файлов может занимать существенное время  -
поэтому запаситесь терпением
В редакторе есть возможность добавлять и удалять строки  локализации.  Редактор
локализаций корректно работает с константами внутри доменов
После редактирования строк локализации и подтверждения редактор  создаст  файлы
"<имя домена>.mo.new" в каждой папке языка
Файлы ".mo.new" имеют для редактора  приоритет  перед  обычными  ".mo"  файлами
локализации. Т.е. если в одном языковом каталоге присутствуют оба типа  файлов,
редактор загрузит для редактирования ".mo.new"
Для того, что бы движок подгрузил новый файл  локализации,  требуется  изменить
его расширение с .mo.new на .mo.  Обычно  это  перезапишет  файл  текущий  файл
локализации - поэтому следует заранее сделать его резервную копию
ВНИМАНИЕ! Следует соблюдать осторожность при замене  старых  файлов  на  новые!
Редактор не сохраняет комментарии и  игнорирует  дополнительный  код  в  файлах
локализации! В результате простая перезапись файлов может  нарушить  нормальную
работу подсистемы локализации движка!  Если  ваши  файлы  локализации  содержат
дополнительный PHP-код, то они требуют ручного вмешательства после обработке  в
редакторе! Ни один из встроенных файлов локализации SN не содержит лишнего кода
и может быть безопасно обработано встроенным редактором


Установка и администрирование
=============================
В отличие от RR СН может размещаться на веб-сервере на любом уровне вложенности
каталогов

Добавлена возможность автоматического  обновления  статистики  (настройка  пока
только  через  БД).  Автоматическое  обновление  статистики   производится   по
расписанию через AJAX

Полностью переписан модуль обновления статистики.  Максимум  вычислений  теперь
проводятся на стороне MySQL сервера без необходимости перекачивать данные в PHP
и обратно. Обновление статистики завернуто в транзакции. Все эти меры привели к
тому, что скорость обновления статистики на сервере с 500  аккаунтами  (P4  3,0
GHz, 2 Gb RAM) составляет меньше секунды!

Полностью переписан код баннерилки. Добавлена возможность включить РО при бане.
При разбане режим РО остается, но  разрешается  из  него  выйти.  По  умолчанию
включена галочка РО и выставлен срок бана в 3 дня. Бан и  разбан  объединены  в
один пункт меню и на одну страницу интерфейса

Объединены разделы "Планета" и "Луна" в раздел "Вселенная"

Под названием сервера добавлены часы серверного времени

С нуля написана  страница  добавления/удаления  ТМ.  Добавлена  запись  событий
начисления/снятия   ТМ   в   таблицу   logs   для   предотвращения    возможных
злоупотреблений

Полностью переработана система внутренних логов сообытий. События сохраняются с
двумя  компонентами  -  пригодной  для  чтения  человеком  напрямую  из  БД   и
machine-readable, предназначенной для разбора встроенным  парсером.  Во  второй
компоненте  сохраняется  backtrace,  переменные   окружения   ($_GET,   $_POST,
$_SERVER,  $_COOKIE),  логи  запросов,  а  так  же  любые  другие  по   желанию
разработчика.
Предусмотрено два уровня событий - "Информационное сообщение" и  "Ошибка".  Так
же система событий имеет развитую систему кодов ошибок
Встроенный парсер  позволяет  просматривать  подробности  о  каждой  ошибке  на
отдельной странице.
Игрокам показывается ID ошибки в БД, а не  её  порядковый  номер.  Это  заметно
ускоряет поиск нужной записи об ошибке
Изменения темной материи вынесены из глобального лога в отдельную таблицу.  Это
существенно облегчило поиск неисправностей на сервере и подозрительных действий
пользователей. Старые записи перенесены в отдельную таблицу

"Список планет", "Список лун" и "Активные планеты" используют один и тот же код
и шаблон. Список планет теперь показывает тип планеты, хозяина планеты  (имя  и
ИД), а для лун - родительскую планету и её ИД


Уничтожение планет с компенсацией
---------------------------------
Добавлена возможность  уничтожения  планет  игроков  с  компенсацией  стоимости
зданий, строений и ресурсов

Редактирование планет и лун
---------------------------
С нуля создан интерфейс редактирования юнитов/ресурсов на планете - пункт  меню
"Редактировать" в разделе "Планета".  Он  доступен  членам  команды  начиная  с
Оператора (authlevel=2) и выше

Права доступа к администраторской части
---------------------------------------
Права доступа к отдельным страницам админки устанавливаются  в  зависимости  от
уровня игрока  (столбец  authlevel  в  таблице  users).  Выделяют  три  уровня
доступа:
1. Модератор  (authlevel=1)  имеет  доступ  к  следующим  страницам:  overview,
adm_planet_list, banned, changelog, statbuilder,  tools,  md5enc
Он может: видеть  список  игроков  онлайн  и  их  активность,  видет  список  и
активность лун  и  планет,  вручную  обновлять  статистику  игроков,  банить  и
разбанивать пользователей
2. Оператор (authlevel=2) дополнительно имеет  доступ  к  следующим  страницам:
planet_edit, add_research, del_research, showfliyingfleets
Дополнительно к функциям модератора он может: редактировать юниты и ресурсы  на
лунах и планетах; добавлять и  убирать  технологии  игрока;  добавлять  луны  к
планетам; видеть и редактировать флоты в полете
3.  Администратор  (authlevel=3)  имеет  доступ  ко  всем  страницам,   включая
delete_user,   admin_darkmatter,   errors,    maintenance,    maintenance_ajax,
messagelist, messall,  admin_chat,  paneladmina,  planet_compensate,  settings,
userlist
Дополнительно к функциям оператора он может: добавлять и убирать ТМ у  игроков;
видеть  полный  список  игроков  с  IP-адресами;  удалять  игроков;   запускать
процедуру  обслуживания  БД;  просматривать   и   удалять   личные   сообщения;
просматривать и удалять  сообщения  чата;  просматривать  и  удалять  сообщения
системы логов; изменять права пользователей; изменять настройки игры; возмещать
игроку стоимость затрат на планету


Персонализация
==============
Теперь администраторы сторонних серверов могут задавать скин, темплейт  и  язык
по умолчанию. Это сделано для поддержки авторских разработок при обновлении  из
репозитория

Администраторы так же могут конфигурировать основные ссылки - ссылки  на  ЧаВо,
на правила, на форум и на страницу  покупки  ТМ.  В  случае  отсутствии  ссылок
соответствующие пункты и ссылки скрываются


Прочее
======
Максимальное количество колоний у игрока по умолчанию увеличено до 9


Внутренние изменения
====================

Очереди
-------
Полностью переписана очередь построек
Исправлена ошибка, позволяющая при наличии выше в  очереди  на  верфи  медленно
строящегося юнита использовать его время постройки для создания более  быстрого
юнита  путем  добавления   последнего   в   очередь.   Например,   эта   ошибка
использовалась для быстрой постройки множества ракет
Унифицированы алгоритмы и файлы постройки флота и защиты. Это должно  полностью
снять проблемы с отрицательными ресурсами после верфи  и  с  постройкой  лишних
единиц флота/защиты на верфях

Менеджер флотов в полете
------------------------
Полностью  переписан  менеджер  летящих  флотов  -  теперь   рядно-блокирующий,
тразакционный и кэширующий! Обновленный код на порядок  уменьшает  нагрузку  на
сервер за счет встроенной системе кэширования запросов b перехода  c  табличной
блокировки на рядную.
Система "событий" гарантирует корректный порядок обработки флотов (с  точностью
до секунды - предела текущей  организации  таблиц).  Целостность  и  валидность
результатов обеспечена добавлением  транзакций.  Всё  это  позволило  уменьшить
дискретизацию обработки  флотов  до  4х  секунд  на  серверах  с  300+  онлайна
(предыдущий менеджер при онлайне порядка 200 человек и дискретизацией 12 секунд
примерно через два часа работы "выбивал" MySQL сервер). При этом среднее  время
ожидания блокировки не превышает 250 мс.

Система темплейтов
------------------
Добавлен движок рендеринга темплейтов от phpBB3. Движок доработан  до  обратной
совместимости с темплейтами XNova.
В темплейтах можно указывать префикс "L_" что бы взять  переменную  из  массива
$lang и не  нужно  целиком  передавать  в  массив  $lang  в  процедуру  разбора
темплейтов. Так же можно  использовать  локализованные  значения  в  одномерных
массивах. Например, $lang['tech'][401] в темплейте превратится в {L_tech[401]}.
Поддерживаются так же строковые индексы массивов.
В темплейтах можно указывать префикс "C_",  что  бы  использовать  значение  из
конфигурации Вселенной. Не работает в условных операторах.
В темплейтах  можно  указывать  префикс  "D_",  что  бы  использовать  значения
PHP-констант

JS библиотека таймеров
----------------------
Написана  с  нуля  универсальная  система  внутриигровых  таймеров  на  стороне
клиента. Корректно обрабатываются нажатие кнопки Back в браузере (через  AJAX).
Корреткно обрабатывается  рассинхронизация  часов  между  клиентом  и  сервером
(включая часовые пояса)
[@] sn_timer: Таймер корректно работает с очередью, в которой количество юнитов
    больше 1

/.local
-------
Добавлен каталог '/.local' для облегчения разработки.  Файлы  в  этом  каталоге
игнорируются GIT-ом,  но  при  этом  корректно  подключают  внешние  файлы  для
обработки и выполнения

Баннер и юзербар
----------------
Полностью  переписана  система  генерации   баннеров/юзербаров.   Унифицированы
процедуры их генерации,  слиты  в  один  файл  процедур  и  один  файл-враппер,
вынесены PHP-файлы из каталога scripts в соответствующие места.

Автоматическое обновление
-------------------------
Написан с нуля модуль автоматического обновления структуры БД
Апдейтер использует собственные процедуры запросов к БД
Добавлена возможность форсировать обновление в случае проблем с  автоматическим
обновлением. Можно форсировать как все  обновления,  так  и  только  последнее.
Возможность доступна в интерфейсе Администратора, пункт меню "Утилиты"
Автоапдейтер на время работы отключает отладку вне  зависимости  от  глобальных
настроек

Обслуживание
------------
Добавлена автоматическая процедура  ежедневного  обслуживания:  чистка  таблицы
башинга, чистка таблицы САБ

Логи ошибок и событий
---------------------
Полностью  переделана  система  логов.  Кроме  ошибок  в  логи  теперь  пишутся
отдельные   события   (подробнее   -   html/developer.html).   Таблица    логов
переформатирована для лучшего чтения человеком  в  дампе.  Добавлено  несколько
machine-readable полей для сохранения более полной информации о событии

xCache
------
Движок  теперь   поддерживает   xCache.   Использование   xCache   настоятельно
рекомендуется - это заметно разгрузит сервер и уменьшит количество обращений  к
БД. Хотя движок может работать и без кэшера, в дальнейшем СН все  больше  будет
оптимизироваться для использование opcode-cacher

Sypex Dumper
------------
В дистрибутив добавлена копия Sypex Dumper v2.0.8 (freeware)  для  создания
резервных копий (и, естественно, их восстановления)

Прочее
------
Закрыты все обнаруженные дыры в  безопасности  (SQL-injection  через  параметры
страницы) на страницах, доступных пользователям.  Так  же  полностью  исключена
возможность начисления ТМ посредством взлома извне и изменение  прав  отдельных
игроков

Офицеры отвязаны от конкретных цифр и привязаны к константам-идентификаторам

Удалено множество лишних файлов

Таблицы 'lunas' и 'galaxy' больше  не  используются.  Вся  их  функциональность
перенесена в таблицу 'planets'

Шаблоны даты и времени везде заменены константами.

Все PHP-deprecated функции заменены более современными аналогами
Устаревшая функция SYS_mysqlSmartEscape заменена на соответствующие
Устаревшие массивы $pricelist, $resources,  $reslist,  $sn_groups,  $CombatCaps
заменены в коде на $sn_data  

Введена дополнительная защита от взлома. Теперь  член  команды  игры  не  может
назначить кому-либо уровень доступа, равный или больший своего.  Таким  образом
через админку невозможно назначить второго  Администратора.  Однако  это  можно
проделать напрямую в БД

Внутреннее устройство/Совместимость
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Код
===
[@] SYS: Устаревшие функции заменены актуальными аналогами:
      int_buildCounter => tpl_parse_planet
      GetTargetDistance, GetMissionDuration, GetFleetConsumption => 
        flt_travel_data
      GetShipConsumption, get_ship_speed => get_ship_data
      GetFleetMaxSpeed => flt_fleet_speed
[@] SYS: В описании структуры кораблей (vars.php) данные о двигателях  вынесены
    в  отдельный  массив  'engine'.  Теперь  можно   указывать   неограниченное
    количество двигателей для апгрейда корабля
[@] Новости:  На  странице  новостей,  странице  Императора  и  обзоре  планеты
    рендерятся одной процедурой и используют один  темплейт.  Индикатор  свежих
    новостей теперь  ориентируется  на  дату  просмотра,  а  не  на  количество
    новостей
[@] ТМ: Изменение ТМ в переменной $user производится в теле rpg_points_change
[@] Админка/Настройки:  Состояние  все  чекбоксов  (включен/выключен)   теперь
    определются в темлейте
[@] Все таймеры врат заменены на sn_timer
[@] Вселенная: При обнаружении  планеты  с  отсутствующим  пользователем  в  БД
    планета удаляется с отсрочкой 24 часа


БД
==
[@] Добавлен патч для mysql-серверов со  включенным  STRICT_TRANS_TABLES
    при отправке флотов
[@] БД: В таблице `users` убраны неиспользуемые поля. Изменены типы  нескольких
    полей на более логичные. Добавлено поле `ally_tag`
    В таблицы `users` и `alliance` добавлены поля с текущими значениями ранга и
    очков статистики


Документация
~~~~~~~~~~~~
Вся документация и сопроводительные файлы находятся в каталоге "docs"  в  корне
движка

Лицензия (на английском):
  /docs/license.txt

Документация на проект (этот файл, на русском):
  /docs/readme.txt

История изменения для пользователей (на русском):
  /docs/changelog.txt

Инструкции по установке (на русском):
  /docs/install.txt
Инструкции по установке (английский, google-translated):
  /docs/install-en.txt

Документация для администраторов и разработчиков (на русском):
  /docs/html/developer.html

История изменений для администраторов и разработчиков (на русском):
  /docs/changelog_dev.txt

Планы развития (на русском):
  /docs/todo.txt

Coding Gudelines для разработчиков (на английском):
  /docs/html/coding-guidelines.html

Беллитризированный внутриигровая предыстория (на русском):
  /docs/SuperNova - All you didn't want to know but forced to.docx


Copyright
=========
Сверхновая copyright (c) 2009-2011 Gorlum для http://supernova.ws
Project "SuperNova.WS" copyright (c) 2009-2011 by Gorlum for http://supernova.ws

Based on xNova 0.8b RageRepack v226

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Updated: 2011-09-19 17:15 Project "SuperNova.WS" Release 31
