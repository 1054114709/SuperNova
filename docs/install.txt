Disclaimer aka Отмазка
======================
ВНИМАНИЕ! Проект находится в стадии  альфа-версии!  В  настоящее  время  он  не
предназначен для  production-использования!  Код  предоставляется  "as-is".  Вы
используете его на свой  страх  и  риск!  Автор  не  несет  ответственности  за
материальный,  моральный,  кармический,  душевный   и   любой   другой   ущерб,
причиненный вам от использования, неиспользования, самим  фактом  существования
этого кода или любым другим способом.

ВНИМАНИЕ! Хотя СН является клоном оГейм, она НЕ ЯВЛЯЕТСЯ ОФФЛАЙК!  Т.е.  многие
аспекты игры отличаются как  от  официального  оГейма,  так  и  от  RR.  Движок
изменен, что бы соответствовать моему пониманию об интересной игре.  Принимайте
это во внимание, когда решаете - устанавливать этот движок себе или нет.

ВНИМАНИЕ! Статус проекта "Сверхновая" - альфа-версия. Практически это означает,
что очередной апдейт может полностью изменить отдельный аспект игры.

Примерный план развития движка содержится в файле docs/changelog.todo

Код распространяется под лицензией GNU GENERAL PUBLIC  LICENSE  Version  2,
June 1991. Сама лицензия находится в файле docs/license.txt дистрибутива.

Предуведомления о необходимости наличия квалификации
====================================================
Данные инструкции предполагают умение самостоятельно настроить или использовать
сторонний  веб-хостинг,  знакомство  с  MySQL  и  PHP,  доступ  к  инструментам
управленя MySQL и  хостингом.  Если  вы  не  обладаете  опытом  самостоятельной
настройки сайтов - этот дистрибутив вам не подойдет

ВНИМАНИЕ! Я не могу протестировать все возможные комбинации и  версии  MySQL  &
PHP & XCache & веб-серверов! Это означает,  что  при  некоторых  комбинациях  и
настройках среды движок может  не  работать.  Именно  для  этого  нужны  навыки
настройки и конфигурации веб-серверов.

Требования
==========
MySQL 5.x
PHP >= 5.2.х
Web-server
XCache >= 1.2.х - опционально, но крайне, крайне желательно.  Без  XCache  не
                  будут работать некоторые фишки и заметно возрастет нагрузка
                  на MySQL.

Движок разрабатывается под Windows + Apache Friends XAMPP Lite (Basis  Package)
version 1.7.3 (включен только Apache+PHP+XCache и MySQL). Продакшн крутится под
CentOS + lighttpd + XCache.
На localhost движок ВСЕГДА работает в режиме display_errors=1

Расположение движка
===================
В настоящий момент движок может работать только из  корневого  каталога  домена
любого уровня. Т.е. он может быть установлен по адресам
  http://domain.com
  http://my.very.deep.domain.on.crappy.hoster.org
но не может быть установлен по адресу
  http://hosting.com/ogame/

Права доступа веб-сервера
=========================
В целом, движок может работать из-под веб-сервера с правами доступа "только  на
чтение".  Однако,  для  корректной   работы   отдельных   подсистем,   аккаунту
веб-сервера должна быть разрешена запись в отдельный файлы/папки. Ниже приведен
список подсистем и соответствующих файлов/папок
[*] Подсистема кэширования темплейтов - каталог  /cache.  Без  этого  темплейты
    каждый раз будут рендериться заново
[*] Для работы подсистемы защиты от взлома  аккаунту  веб-сервера  должна  быть
    разрешена запись на диск в файл /badqrys.txt. Без этого "плохие" запросы не
    будут сохранятся

Краткий ликбез по GIT
=====================
Создать локальную копию Сверхновой в текущем  каталоге  (не  забываем  точку  в
конце!):
git clone git://github.com/supernova-ws/SuperNova.git .
В текущем каталоге появится самая свежая  копия  Сверхновой  из  ветки  master.
Теперь  содержимое  нужно  скопировать  в  корневой  каталог  сервера.  Вообще,
рекомендуется  делать  это  сразу  на  сервере  -  для  избежания   проблем   с
копированием (был уже такой случай). Но не у всех хостеры  разрешают  запускать
локально программы, поэтому можно сначала сделать  копию  на  локальном  диске.

Обновить локальную копию Сверхновой:
git pull
ВНИМАНИЕ!!! Перед обновленем  сервер  нужно  остановить  (в  левом  меню  пункт
"Администратор",  в  админском  меню  пункт  "Настройки",   поставить   галочку
"Отключить игру", нажать кнопку "Сохранить"  в  самом  низу  страницы)!  Только
после этого можно производить обновление - иначе результат может  быть  далеким
от ожидаемого.
Теперь, если у вас включено кэширование темплейтов, нужно удалить все  файлы  в
каталоге cache
Так же рекомендуется зайти один раз на страницу "Обзор планеты", что бы  движок
обновил БД из-под  администратора.
И,  наконец,  после  всех  этих  действий  игру  можно  опять  включить  (снять
поставленную ранее галочку и сохранить изменения).

Собственно, больше ничего не надо :) Впрочем, если вы занимаетесь модификациями
движка, вам пригодится следуюшая команда. Откатить все изменения, сделанные  на
локальной копии:
git reset --hard

Пользовательские модификации
============================
Если  вы  используете  свой  скин,  темплейт  или  локализацию,  НЕ   ИЗМЕНЯЙТЕ
ВСТРОЕННЫЕ ФАЙЛЫ! Последующие изменения в репозитории могут  перезаписать  ваши
дополнения! Сделайте копию скина/темплейта/локализации под другим именем и  уже
с копией веселитесь. Изменить скин/темплейт/локализацию по умолчанию  можно  на
странице конфигурации сервера.

Инсталляция, базовый вариант
============================
 1. Создайте БД "supernova" в UTF-8
 2. Создайте в MySQL пользователя "supernova_user" и дайте ему  все  права  на
    базу "supernova"
 3. Загрузите в БД файл docs/supernova.sql
 4. Скопируйте файл docs/config.php.sample в  корневой  каталог  Сверхновой  и
    переименуйте его в config.php
 5. В файле /config.php в строке
    "pass"       => "MYSQL_PASSWORD", // Пароль доступа MySQL сервера.
    замените MYSQL_PASSWORD на пароль пользователя БД
 6. В файле /config.php в строке
    "secretword" => "SUPERNOVA",      // Ключевое слово для создания Cookies
    замените SUPERNOVA какой-либо последовательностью символов
 7. Загрузите дистрибутив Сверхновой в корневой каталог веб-сервера
 8. Зайдите в игру с админскими правами. По умолчанию админский  логин/пароль
    admin/admin
 9. Смените пароль администратора на странице /options.php
10. Настройте игру на странице /admin/settings.php
11. Сверхновая готова к запуску!

Инсталляция, продвинутый вариант
================================
Настройки доступа к БД находятся в файле /config.php
Настройки игры находятся в  таблице  <db_prefix>config.  Назначение  настроек
интуитивно понятны из названий переменных
Так же некоторые настройки игры хранятся в файле /includes/constants.php
Все изменения - на ваш страх и риск

Ссылки
======
Основной сайт проекта: http://supernova.ws

Сверхновая на GIT: http://github.com/supernova-ws/SuperNova
GIT-репозиторий: git://github.com/supernova-ws/SuperNova.git

Форум проекта: http://forum.supernova.ws
Форум поддержки: http://forum.supernova.ws/viewforum.php?f=73
Форум для багрепортов: http://forum.supernova.ws/viewforum.php?f=65

Помощь проекту
==============
Вы можете помочь проекту, отправив WebMoney на кошельки:
  WMZ (WM-USD) Z409323360409
  WMR (WM-RUB) R961266352219
  WMU (WM-UAH) U726314912308

Если вы пользуетесь ВебМанями для покупки различных электронных товаров, то  вы
можете а) купить привычный электронный товар по хорошей цене б) помочь проекту.
http://gorlum.plati.ru - пополнения сотовых, Skype, WoW - игра и  ТК  и  прочие
электрические товары за WM. Каждая покупка, сделанная с этого  линка,  принесет
мне небольшие комиссионные.

Помните! Ничто так не укрепляет веру в нужность работы, как пожертвование!


Updated: 2010-10-13 22:39